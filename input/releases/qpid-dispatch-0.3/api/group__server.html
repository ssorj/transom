<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Qpid Dispatch Library API: Server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Qpid Dispatch Library API
   &#160;<span id="projectnumber">0.3</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Server</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9068697fea6e5f583169d10aedeece95"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#ga9068697fea6e5f583169d10aedeece95">qd_thread_start_cb_t</a> )(void *context, int thread_id)</td></tr>
<tr class="separator:ga9068697fea6e5f583169d10aedeece95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac624573ea1e1171323fe56773c8ddb6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#gac624573ea1e1171323fe56773c8ddb6d">qd_server_set_start_handler</a> (<a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *qd, <a class="el" href="group__server.html#ga9068697fea6e5f583169d10aedeece95">qd_thread_start_cb_t</a> start_handler, void *context)</td></tr>
<tr class="separator:gac624573ea1e1171323fe56773c8ddb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1663cfc5a681f324fc5c31b6d9283b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#ga1663cfc5a681f324fc5c31b6d9283b2c">qd_server_run</a> (<a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *qd)</td></tr>
<tr class="separator:ga1663cfc5a681f324fc5c31b6d9283b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga925c7e9eca6399bbfcf53e8db0adc063"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#ga925c7e9eca6399bbfcf53e8db0adc063">qd_server_start</a> (<a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *qd)</td></tr>
<tr class="separator:ga925c7e9eca6399bbfcf53e8db0adc063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70870292ce04e41f96f147614733b088"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#ga70870292ce04e41f96f147614733b088">qd_server_stop</a> (<a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *qd)</td></tr>
<tr class="separator:ga70870292ce04e41f96f147614733b088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d10d6b50b0adb46b82f50aa98bc6295"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#ga7d10d6b50b0adb46b82f50aa98bc6295">qd_server_pause</a> (<a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *qd)</td></tr>
<tr class="separator:ga7d10d6b50b0adb46b82f50aa98bc6295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga674f776fb34b1d15e667212dc29a0d92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__server.html#ga674f776fb34b1d15e667212dc29a0d92">qd_server_resume</a> (<a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *qd)</td></tr>
<tr class="separator:ga674f776fb34b1d15e667212dc29a0d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Control server threads, starting and stopping the server. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga9068697fea6e5f583169d10aedeece95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* qd_thread_start_cb_t)(void *context, int thread_id)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Thread Start Handler</p>
<p>Callback invoked when a new server thread is started. The callback is invoked on the newly created thread.</p>
<p>This handler can be used to set processor affinity or other thread-specific tuning values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The handler context supplied in qd_server_initialize. </td></tr>
    <tr><td class="paramname">thread_id</td><td>The integer thread identifier that uniquely identifies this thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7d10d6b50b0adb46b82f50aa98bc6295"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qd_server_pause </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *&#160;</td>
          <td class="paramname"><em>qd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pause (quiesce) the server.</p>
<p>This call blocks until all of the worker threads (except the one calling this function) are finished processing and have been blocked. When this call returns, the calling thread is the only thread running in the process.</p>
<p>If the calling process is <em>not</em> one of the server's worker threads, then this function will block all of the worker threads before returning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qd</td><td>The dispatch handle returned by qd_dispatch. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga674f776fb34b1d15e667212dc29a0d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qd_server_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *&#160;</td>
          <td class="paramname"><em>qd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resume normal operation of a paused server.</p>
<p>This call unblocks all of the worker threads so they can resume normal connection processing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qd</td><td>The dispatch handle returned by qd_dispatch. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1663cfc5a681f324fc5c31b6d9283b2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qd_server_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *&#160;</td>
          <td class="paramname"><em>qd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the server threads until completion - The blocking version.</p>
<p>Start the operation of the server, including launching all of the worker threads. This function does not return until after the server has been stopped. The thread that calls qd_server_run is used as one of the worker threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qd</td><td>The dispatch handle returned by qd_dispatch. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac624573ea1e1171323fe56773c8ddb6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qd_server_set_start_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *&#160;</td>
          <td class="paramname"><em>qd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__server.html#ga9068697fea6e5f583169d10aedeece95">qd_thread_start_cb_t</a>&#160;</td>
          <td class="paramname"><em>start_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the optional thread-start handler.</p>
<p>This handler is called once on each worker thread at the time the thread is started. This may be used to set tuning settings like processor affinity, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qd</td><td>The dispatch handle returned by qd_dispatch. </td></tr>
    <tr><td class="paramname">start_handler</td><td>The thread-start handler invoked per thread on thread startup. </td></tr>
    <tr><td class="paramname">context</td><td>Opaque context to be passed back in the callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga925c7e9eca6399bbfcf53e8db0adc063"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qd_server_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *&#160;</td>
          <td class="paramname"><em>qd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the server threads and return immediately - The non-blocking version.</p>
<p>Start the operation of the server, including launching all of the worker threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qd</td><td>The dispatch handle returned by qd_dispatch. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga70870292ce04e41f96f147614733b088"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qd_server_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dispatch.html#gaef7922e4eb6670388fd2d3e6d88297a9">qd_dispatch_t</a> *&#160;</td>
          <td class="paramname"><em>qd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop the server</p>
<p>Stop the server and join all of its worker threads. This function may be called from any thread. When this function returns, all of the other server threads have been closed and joined. The calling thread will be the only running thread in the process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qd</td><td>The dispatch handle returned by qd_dispatch. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
